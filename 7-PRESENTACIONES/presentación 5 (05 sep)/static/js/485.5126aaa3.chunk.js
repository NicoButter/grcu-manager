"use strict";(self.webpackChunk_genially_view_client=self.webpackChunk_genially_view_client||[]).push([[485],{45577:(e,n,t)=>{t.d(n,{q:()=>u});var i=t(45992),l=t(17588),o=t(66264),r=t(60708),d=t(10549),s=t(5441);const u=e=>{let{getItems:n,item:t,menuType:u,theme:m,shouldCloseWhenClickOutside:a=!1,itemSize:c,menuTheme:h}=e;const[v,g]=(0,l.useState)(n()),[T,f]=(0,l.useState)(!1),p=(0,l.useCallback)((()=>{f((e=>!e))}),[]);(0,l.useEffect)((()=>{const e=null===t||void 0===t?void 0:t.on(o.q.Message,(e=>{e===r.m.Entering&&(g(n()),f(!1))}));return()=>{null===e||void 0===e||e()}}),[n,t]);const x=function(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const t=(0,l.useRef)(null);return(0,l.useEffect)((()=>{const i=n=>{t.current&&!t.current.contains(n.target)&&e(n)};return document.addEventListener("mouseup",i,n),document.addEventListener("touchend",i,n),()=>{document.removeEventListener("mouseup",i,n),document.removeEventListener("touchend",i,n)}}),[t,e,n]),t}((0,l.useCallback)((()=>{a&&T&&f(!1)}),[T,a]),!0);(0,l.useEffect)((()=>{g(n())}),[n]);const w=(0,d.CO)(u);return(0,s.T)({theme:m,children:(0,i.jsx)(w,{items:v,onToggleClick:p,opened:T,ref:x,theme:m,itemSize:c,menuTheme:h})})}},15690:(e,n,t)=>{t.d(n,{M:()=>f});var i=t(45992),l=t(17588),o=t(15536),r=t(89035),d=t(21646);const s=()=>{},u=(0,l.forwardRef)(((e,n)=>{let{menuTheme:t}=e;const l=s;return(0,i.jsx)(d.W1,{ref:n,$menuTheme:t,style:{margin:o.I,width:`calc(100% - ${2*o.I}px)`,height:`calc(100% - ${2*o.I}px)`},children:(0,i.jsxs)(d.YT,{"data-nav-element":"hamburger-menu-toggle",$width:r.sf,children:[(0,i.jsx)(d.e3,{}),(0,i.jsx)(d.cl,{onClick:l,role:"button",children:(0,i.jsx)(d.h_,{children:(0,i.jsx)(d.RG,{$visible:!0})})})]})})}));var m=t(58424),a=t(73242);const c=Math.random().toString(36).substring(7),h=()=>{},v=(0,l.forwardRef)(((e,n)=>{let{items:t,menuTheme:l}=e;const r=`mainMenu-${c}`,d=h,{ref:s,hasScroll:u}=(0,m.x)();return(0,i.jsxs)(a.W1,{"aria-labelledby":r,role:"menu",ref:n,$menuTheme:l,style:{margin:o.I,width:`calc(100% - ${2*o.I}px)`,height:`calc(100% - ${2*o.I}px)`},children:[u.horizontal&&(0,i.jsx)(a.hh,{onClick:d,$menuTheme:l,$disabled:!0,children:(0,i.jsx)(a.rZ,{})}),(0,i.jsx)(a.JU,{id:r,children:"Main menu"}),(0,i.jsx)(a.e3,{}),(0,i.jsx)(a.QS,{ref:s,children:t.map((e=>(0,i.jsx)(a.d,{$isLink:e.isLink,$isActive:e.isActive,$isAllowed:e.isAllowed,$menuTheme:l,children:(0,i.jsx)(a.Dr,{tabIndex:-1,"aria-label":e.altText||void 0,"aria-disabled":!e.altText,children:(0,i.jsx)(a.gi,{children:e.text})})},e.text+e.key)))}),u.horizontal&&(0,i.jsx)(a.hh,{onClick:d,$menuTheme:l,children:(0,i.jsx)(a.wF,{})})]})}));var g=t(54769);var T=t(5441);const f=e=>{let{getItems:n,menuType:t,theme:l,menuTheme:o}=e;const r=n(),d=(e=>{switch(e){case g.L.Horizontal:return v;case g.L.Hamburger:return u;default:return v}})(t);return(0,T.T)({theme:l,children:(0,i.jsx)(d,{items:r,menuTheme:o})})}},93918:(e,n,t)=>{t.d(n,{N:()=>o,e:()=>d});var i=t(48237);const l=(e,n,t)=>""===e?n(t?"__new.editor.widget.menu.sidebar.emptyTitlePlaceholder":"__new.view.widget.menu.sidebar.emptyTitlePlaceholder"):e,o=(e,n,t)=>e.map(((e,o)=>{var r;const d=(null===(r=e.menuItemAction.action)||void 0===r?void 0:r.type)===i.L.GoToSlide;return{text:l(e.menuItemName,n,t),key:o,onClick:()=>{},isLink:d,isActive:!1,isAllowed:d,altText:e.altText}})),r={active:!1,allowed:!1},d=(e,n,t)=>e.map(((e,o)=>{var d,s;const u=!!(null===(d=e.menuItemAction)||void 0===d?void 0:d.data)&&(null===(m=e.menuItemAction.data)||void 0===m?void 0:m.type)===i.L.GoToSlide;var m;const{active:a,allowed:c}=u&&(null===(s=e.menuItemAction)||void 0===s?void 0:s.data)?n.getGoToSlideState(e.menuItemAction.data):r;return{text:l(e.menuItemName,n.t,t),key:o,onClick:()=>{var n;return null===(n=e.menuItemAction)||void 0===n?void 0:n.run()},isLink:u,isActive:a,isAllowed:c,altText:e.altText}}))},90485:(e,n,t)=>{t.r(n),t.d(n,{geniallyMenuViewScript:()=>s});var i=t(45992),l=t(41381),o=t(45577),r=t(15690),d=t(93918);const s=(e,n)=>{(0,l.p)({getTargetNodeItem:()=>e.item,initialState:void 0,renderApp:()=>{var t,l;const{config:r,item:s}=e,{menuItems:u,menuType:m,menuTheme:a}=r,c=()=>(0,d.e)(u,n,!1),h={width:null!==(t=null===s||void 0===s?void 0:s.width)&&void 0!==t?t:0,height:null!==(l=null===s||void 0===s?void 0:s.height)&&void 0!==l?l:0};return()=>(0,i.jsx)(o.q,{getItems:c,item:s,menuType:m,theme:n.theme,itemSize:h,shouldCloseWhenClickOutside:!0,menuTheme:a})},renderThumbnailApp:()=>{var t,l;const{config:o,item:s}=e,{menuType:u,menuTheme:m}=o;return(0,i.jsx)(r.M,{getItems:()=>(0,d.e)(e.config.menuItems,n,!1),menuType:u,menuTheme:m,theme:n.theme,itemSize:{width:null!==(t=null===s||void 0===s?void 0:s.width)&&void 0!==t?t:0,height:null!==(l=null===s||void 0===s?void 0:s.height)&&void 0!==l?l:0}})}})(e,n)}},41381:(e,n,t)=>{t.d(n,{p:()=>r});var i=t(70377),l=t(66264),o=t(60708);function r(e){let{getTargetNodeItem:n,renderApp:t,renderThumbnailApp:r,initialState:d}=e,s=!1;const u=[],m=e=>{u.push(e)};return e=>{const a=n(e.config),c=null===a||void 0===a?void 0:a.parentSlide;function h(){if(!a)return;let e=null;if("idOfFreeNode"in a)e=document.getElementById(a.idOfFreeNode);else{const n=document.createElement("div");n.innerHTML=a.source;let t=n.getElementsByClassName("genially-widget-app");t.length||(t=n.getElementsByClassName("genially-widget-gallery"));const{id:i}=t[0];if(!i)return;e=document.getElementById(i)}if(e){const n=l=>{if(s){const o=t({setState:n,onUnmount:m});i.render(o(l),e)}else console.warn('"rerender" was called when the widget was already unmounted. This is a no-op. Did you forget to dispose of an event handler with "onUnmount"?')};s=!0,n(d),u.push((()=>{i.unmountComponentAtNode(e)}))}}function v(){s=!1,u.forEach((e=>{e()})),u.length=0}null===a||void 0===a||a.on(l.q.Mount,(()=>{h()})),null===a||void 0===a||a.on(l.q.Unmount,(()=>{v()})),a&&"isTransversal"in a&&a.isTransversal?h():null===c||void 0===c||c.on(o.m.Entering,(()=>{s||h()})),null===c||void 0===c||c.on(o.m.Exited,(()=>{a&&"isTransversal"in a&&a.isTransversal||s&&v()})),null===c||void 0===c||c.on(o.m.ThumbnailMount,(()=>{!function(){if(!r||!a||!("idOfThumbnailFreeNode"in a))return;const e=document.getElementsByClassName(a.idOfThumbnailFreeNode);Array.from(e).forEach((e=>{i.unmountComponentAtNode(e)}))}(),function(){if(!r||!a||!("idOfThumbnailFreeNode"in a))return;const e=document.getElementsByClassName(a.idOfThumbnailFreeNode);Array.from(e).forEach((e=>{i.render(r(),e)}))}()}))}}}}]);
//# sourceMappingURL=https://s3-static-genially.genially.com/view/static/js/485.5126aaa3.chunk.js.map